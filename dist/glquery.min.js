/*
 * glQuery
 * Originaly copyright glQuery authors 2011, but is released into the public domain.
 * (Also available under an MIT license and a GPL v2.0 license)
 */"use strict";var glQuery=function(){var a=256,b=1024,c=16384,d=0,e=1,f=2,g=3,h=4,i=5,j=6,k=0,l=1,m=768,n=769,o=770,p=771,q=772,r=773,s=774,t=775,u=776,v=32774,w=32777,x=32777,y=34877,z=32778,A=32779,B=32968,C=32969,D=32970,E=32971,F=32769,G=32770,H=32771,I=32772,J=32773,K=34962,L=34963,M=34964,N=34965,O=35040,P=35044,Q=35048,R=34660,S=34661,T=34342,U=1028,V=1029,W=1032,X=2884,Y=3042,Z=3024,$=2960,_=2929,ba=3089,bb=32823,bc=32926,bd=32928,be=0,bf=1280,bg=1281,bh=1282,bi=1285,bj=2304,bk=2305,bl=2849,bm=33901,bn=33902,bo=2885,bp=2886,bq=2928,br=2930,bs=2931,bt=2932,bu=2961,bv=2962,bw=2964,bx=2965,by=2966,bz=2967,bA=2963,bB=2968,bC=34816,bD=34817,bE=34818,bF=34819,bG=36003,bH=36004,bI=36005,bJ=2978,bK=3088,bL=3106,bM=3107,bN=3317,bO=3333,bP=3379,bQ=3386,bR=3408,bS=3410,bT=3411,bU=3412,bV=3413,bW=3414,bX=3415,bY=10752,bZ=32824,b$=32873,b_=32936,ca=32937,cb=32938,cc=32939,cd=34466,ce=34467,cf=4352,cg=4353,ch=4354,ci=33170,cj=5120,ck=5121,cl=5122,cm=5123,cn=5124,co=5125,cp=5126,cq=6402,cr=6406,cs=6407,ct=6408,cu=6409,cv=6410,cw=32819,cx=32820,cy=33635,cz=35632,cA=35633,cB=34921,cC=36347,cD=36348,cE=35661,cF=35660,cG=34930,cH=36349,cI=35663,cJ=35712,cK=35714,cL=35715,cM=35717,cN=35718,cO=35721,cP=35724,cQ=35725,cR=512,cS=513,cT=514,cU=515,cV=516,cW=517,cX=518,cY=519,cZ=7680,c$=7681,c_=7682,da=7683,db=5386,dc=34055,dd=34056,de=7936,df=7937,dg=7938,dh=9728,di=9729,dj=9984,dk=9985,dl=9986,dm=9987,dn=10240,dp=10241,dq=10242,dr=10243,ds=3553,dt=5890,du=34067,dv=34068,dw=34069,dx=34070,dy=34071,dz=34072,dA=34073,dB=34074,dC=34076,dD=33984,dE=33985,dF=33986,dG=33987,dH=33988,dI=33989,dJ=33990,dK=33991,dL=33992,dM=33993,dN=33994,dO=33995,dP=33996,dQ=33997,dR=33998,dS=33999,dT=34e3,dU=34001,dV=34002,dW=34003,dX=34004,dY=34005,dZ=34006,d$=34007,d_=34008,ea=34009,eb=34010,ec=34011,ed=34012,ee=34013,ef=34014,eg=34015,eh=34016,ei=10497,ej=33071,ek=33648,el=35664,em=35665,en=35666,eo=35667,ep=35668,eq=35669,er=35670,es=35671,et=35672,eu=35673,ev=35674,ew=35675,ex=35676,ey=35678,ez=35680,eA=34338,eB=34339,eC=34340,eD=34341,eE=34922,eF=34373,eG=34975,eH=35713,eI=36336,eJ=36337,eK=36338,eL=36339,eM=36340,eN=36341,eO=36160,eP=36161,eQ=32854,eR=32855,eS=36194,eT=33189,eU=6401,eV=36168,eW=34041,eX=36162,eY=36163,eZ=36164,e$=36176,e_=36177,fa=36178,fb=36179,fc=36180,fd=36181,fe=36048,ff=36049,fg=36050,fh=36051,fi=36064,fj=36096,fk=36128,fl=33306,fm=0,fn=36053,fo=36054,fp=36055,fq=36057,fr=36061,fs=36006,ft=36007,fu=34024,fv=1286,fw=37440,fx=37441,fy=37442,fz=37443,fA=37444,fB=function(a){return fB.fn.init(a)},fC={},fD={},fE=function(a){console.log(a)},fF=function(a){console.log(a)},fG=function(a){console.log(a)},fH=function(a){console.log(a)},fI=function(a,b){a||fH(b)},fJ=function(a,b,c,d){d!=null&&c!=null?fI(typeof a===b,"In call to '"+c+"', expected type '"+b+"' for '"+d+"'. Instead, got type '"+typeof a+"'."):c!=null?fI(typeof a===b,"In call to '"+c+"', expected type '"+b+"'. Instead, got type '"+typeof a+"'."):d!=null?fI(typeof a===b,"Expected type '"+b+"' for '"+d+"'. Instead, got type '"+typeof a+"'."):fI(typeof a===b,"Expected type '"+b+"'. Instead, got type '"+typeof a+"'.")},fK=0,fL=function(){var a="__glq__"+fK;return++fK,a},fM=function(a){if(Array.isArray(a)){for(var b=0;b<a.length;++b)a[b]=fM(a[b]);var c={};return c[fL()]=a,c}var c={};for(var d in a){var e=a[d];if(d==="prototype"){fH("The given nodes contain a 'prototype' object. ");continue}switch(typeof e){case"string":c[d]=e;break;case"object":c[d]=e;break;default:}}return c};window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)}}(),window.cancelRequestAnimationFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout}();var fN={insert:0,remove:1,triangles:2,indices:3,vertices:4,material:5,light:6},fO=[function(){},function(){},function(){},function(){},function(){},function(){},function(){}];return fB.fn=fB.prototype={init:function(a){return this._selector=a,this},render:function(a){return fJ(a,"object","render","context"),this},triangles:function(){return fE("triangles"),this},indices:function(){return fE("indices"),this},vertices:function(){return fE("vertices"),this},material:function(){return fE("material"),this},light:function(){return fE("light"),this},length:0},fB.canvas=function(a,b,c,d){var e,f;fE("canvas"),typeof a=="undefined"?(e="glqueryCanvas",document.write("<canvas id='"+e+"' width='"+(c!=null?c:800)+"' height='"+(d!=null?d:800)+"'></canvas>"),f=document.getElementById(e)):(fI(typeof a=="string"||typeof a=="object"&&a.nodeName!=="CANVAS","In call to 'canvas', expected type 'string', 'undefined' or 'canvas element' for 'htmlCanvas'. Instead, got type '"+typeof a+"'."),e=typeof a=="string"?a:a.id,f=typeof a=="object"?a:document.getElementById(e)),fI(f!=null&&typeof f=="object"&&f.nodeName==="CANVAS","In call to 'canvas', could not initialize canvas element."),e!=null?fF("Initialized canvas: "+e):fF("Initialized canvas");var g=f.getContext("experimental-webgl",b);return g||fI(!1,"Could not get a 'experimental-webgl' context."),function(){var a={ctx:g,rootId:null,nextFrame:null,callback:function(){return a=this,function b(){fB(a.rootId).render(a.ctx),a.nextFrame=window.requestAnimationFrame(b,a.ctx.canvas)}}};return{start:function(b){return fE("canvas.start"),b!=null&&(fJ(b,"string","canvas.start","rootId"),a.rootId=b,a.nextFrame=window.requestAnimationFrame(a.callback(),a.ctx.canvas)),this},clear:function(a){return fE("canvas.clear"),this},clearColor:function(b,c,d,e){return fE("canvas.clearColor"),a.ctx.clearColor(b,c,d,e),this},clearDepth:function(b){return fE("canvas.clearDepth"),a.ctx.clearDepth(b),this},clearStencil:function(b){return fE("canvas.clearStencil"),a.ctx.clearStencil(b),this}}}()},fB.scene=function(){fE("scene");var a=[];for(var b=0;b<arguments.length;++b){var c=arguments[b];if(typeof c=="string")fC[c]=[],a.push(c);else{fI(typeof c=="object","In call to 'scene', expected type 'string' or 'object' for 'sceneDef'. Instead, got type '"+typeof c+"'.");var d=fM(c);for(key in d)a.push(key),fC[key]=d[key]}}return a.length===0&&(a=fL(),fC[a]=[],fG("In call to 'scene', no nodes supplied. Generating a single root node.")),fB.fn.init(a)},fB.worker=function(a,b){fH("(TODO) Workers are not yet implemented...")},fB}();